<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Admin - Orders</title>
		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
	</head>
	<body>
		<div class="container mt-5">
			<h2 class="mb-4">All Orders</h2>

			<table class="table table-bordered table-striped">
				<thead class="table-dark">
					<tr>
						<th>Order ID</th>
						<th>User</th>
						<th>Products</th>
						<th>Total Amount</th>
						<th>Order Status</th>
						<th>Payment Status</th>
						<th>Created At</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody>
					<!-- Example Row -->
					<tr>
						<td>1001</td>
						<td>John Doe <br />john@example.com</td>
						<td>
							<ul class="mb-0">
								<li>Product A x 2 = ₹500</li>
								<li>Product B x 1 = ₹300</li>
							</ul>
						</td>
						<td>₹800</td>
						<td>
							<span class="badge bg-warning">Pending</span>
						</td>
						<td>
							<span class="badge bg-success">Paid</span>
						</td>
						<td>2026-01-31 10:45:00</td>
						<td>
							<button class="btn btn-sm btn-primary view-btn" data-order="1001">
								View
							</button>
							<button
								class="btn btn-sm btn-secondary update-btn"
								data-order="1001"
							>
								Update Status
							</button>
						</td>
					</tr>

					<!-- Another Example Row -->
					<tr>
						<td>1002</td>
						<td>Jane Smith <br />jane@example.com</td>
						<td>
							<ul class="mb-0">
								<li>Product C x 1 = ₹1200</li>
							</ul>
						</td>
						<td>₹1200</td>
						<td>
							<span class="badge bg-info">Processing</span>
						</td>
						<td>
							<span class="badge bg-warning">Pending</span>
						</td>
						<td>2026-01-30 15:20:00</td>
						<td>
							<button class="btn btn-sm btn-primary view-btn" data-order="1002">
								View
							</button>
							<button
								class="btn btn-sm btn-secondary update-btn"
								data-order="1002"
							>
								Update Status
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

		<!-- Modal for Viewing/Updating -->
		<div
			class="modal fade"
			id="orderModal"
			tabindex="-1"
			aria-labelledby="orderModalLabel"
			aria-hidden="true"
		>
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="orderModalLabel">Order Details</h5>
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
							aria-label="Close"
						></button>
					</div>
					<div class="modal-body">
						<p id="orderContent">Loading...</p>
						<div class="mb-3">
							<label for="statusSelect" class="form-label">Update Status</label>
							<select id="statusSelect" class="form-select">
								<option value="pending">Pending</option>
								<option value="processing">Processing</option>
								<option value="shipped">Shipped</option>
								<option value="delivered">Delivered</option>
								<option value="canceled">Canceled</option>
							</select>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-success" id="saveStatus">
							Save Status
						</button>
						<button
							type="button"
							class="btn btn-secondary"
							data-bs-dismiss="modal"
						>
							Close
						</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Bootstrap JS -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

		<!-- Custom JS -->
		<script>
			// Get modal
			const orderModal = new bootstrap.Modal(
				document.getElementById("orderModal"),
			);
			let currentOrderId = null;

			// View button click
			document.querySelectorAll(".view-btn").forEach((btn) => {
				btn.addEventListener("click", () => {
					currentOrderId = btn.getAttribute("data-order");
					document.getElementById("orderContent").innerHTML =
						`Showing details for order #${currentOrderId}`;
					orderModal.show();
				});
			});

			// Update button click
			document.querySelectorAll(".update-btn").forEach((btn) => {
				btn.addEventListener("click", () => {
					currentOrderId = btn.getAttribute("data-order");
					document.getElementById("orderContent").innerHTML =
						`Update status for order #${currentOrderId}`;
					orderModal.show();
				});
			});

			// Save status button
			document.getElementById("saveStatus").addEventListener("click", () => {
				const status = document.getElementById("statusSelect").value;
				alert(`Order #${currentOrderId} status changed to ${status}`);
				orderModal.hide();
			});
		</script>
	</body>
</html>
